/* --------------------------------

Single Item

-------------------------------- */

.cd-single-item {
	position: relative;
	display: block;
	background-color: #fff;
	box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
	border-radius: 4px;
	padding: 1em 2em;
	.cd-thumb {
		// display: block;
		// background-color: $color-4;
		// box-shadow: 0 2px 10px rgba(#000, .08);
		// border-radius: 4px;
		// padding: 4em;
		img {
			width: auto;
			max-height: 250px;
			margin: 0 auto;
			display: block;
		}
	} // &:hover {
	// 	background: red;
	// }
	// &:hover,
	// &.hover {
	// 	.cd-customization {
	// 		/* product customization visible */
	// 		// pointer-events: auto;
	// 		// visibility: visible;
	// 		// opacity: 1;
	// 		// @include transition(opacity .2s 0s, visiblity 0s 0s);
	// 	}
	// 	.cd-customization-trigger {
	// 		/* this is the settings icon - visible on touch devices only */
	// 		// display: none;
	// 	}
	// }
}


/* --------------------------------

Product Slider

-------------------------------- */

// .cd-slider-wrapper {
// 	position: relative;
// 	overflow: hidden;
// 	li {
// 		position: absolute;
// 		top: 0;
// 		left: 0;
// 		visibility: hidden;
// 		/* Force Hardware Acceleration in WebKit */
// 		@include transform(translateZ(0));
// 		@include backface-visibility(hidden);
// 		/* by default, move the product image on the right*/
// 		@include transform(translateX(100%));
// 		@include transition(transform .3s 0s, visibility 0s .3s);
// 		&.selected {
// 			/* this is the visible product image */
// 			position: relative;
// 			visibility: visible;
// 			z-index: 1;
// 			@include transform(translateX(0));
// 			@include transition(transform .3s 0s, visibility 0s 0s);
// 		}
// 		&.move-left {
// 			/* move the product image on the left */
// 			@include transform(translateX(-100%));
// 		}
// 	}
// 	img {
// 		width: 100%;
// 		max-height: 200px;
// 		margin: 0 auto;
// 		display: block;
// 		border-radius: 4px;
// 	}
// }

/* --------------------------------

Product Customization

-------------------------------- */

.cd-customization {
	// position: absolute;
	// z-index: 2;
	// left: 0;
	// bottom: 0;
	width: 100%;
	padding: 16px; // visibility: hidden;
	// opacity: 0;
	// pointer-events: none;
	@include clearfix;
	@include transition(opacity .2s 0s, visibility 0s .2s); // > * {
	// 	float: left;
	// }
	.color,
	.size,
	.add-to-cart,
	.detail-beer {
		height: 34px;
		border-radius: 3px;
		position: relative;
		overflow: hidden;
	}
	.add-to-cart {
		float: right;
	}
	.detail-beer {
		float: left;
	}
	.color,
	.size {
		/* these are the color and size options */
		display: inline-block;
		cursor: pointer;
		box-shadow: inset 0 0 0 1px shade($color-4, 10%);
		/* Force Hardware Acceleration - fix a bug on Safari */
		@include transform(translateZ(0));
		@include backface-visibility(hidden);
		&:hover {
			box-shadow: inset 0 0 0 1px shade($color-4, 20%);
		}
		ul {
			display: inline-block;
			position: absolute;
			@include center;
			width: 100%;
			border-radius: 3px;
			border: 1px solid transparent;
		}
		li {
			position: relative;
			height: 34px;
		}
		ul {
			li:first-of-type {
				/* arrange list items according to the selected color/size option */
				@include transform(translateY(100%));
				border-radius: 0;
			}
			li:nth-of-type(2) {
				@include transform(translateY(-100%));
				border-radius: 3px 3px 0 0;
			}
			li:nth-of-type(3) {
				@include transform(translateY(0));
				border-radius: 0 0 3px 3px;
			}
		}
		&.selected-2 ul {
			li:first-of-type,
			li:nth-of-type(2),
			li:nth-of-type(3) {
				/* second option selected in the ul.color/ul.size list*/
				@include transform(translateY(0));
			}
			li:first-of-type {
				border-radius: 3px 3px 0 0;
			}
			li:nth-of-type(2) {
				border-radius: 0;
			}
		}
		&.selected-3 ul {
			li:first-of-type {
				/* third option selected in the ul.color/ul.size list */
				@include transform(translateY(0));
				border-radius: 3px 3px 0 0;
			}
			li:nth-of-type(2) {
				@include transform(translateY(100%));
				border-radius: 0 0 3px 3px;
			}
			li:nth-of-type(3) {
				@include transform(translateY(-100%));
				border-radius: 0;
			}
		}
		&.is-open {
			/* color/size list open - make ul element visible */
			overflow: visible;
			box-shadow: none;
			&::after {
				/* remove the arrow icon for the size option element */
				display: none;
			}
			ul {
				box-shadow: 0 2px 3px rgba(#000, .1);
				border-color: shade($color-4, 10%);
				background-color: $color-4;
			}
			li:hover,
			li.active {
				background-color: shade($color-4, 5%);
			}
		}
	}
	.color {
		width: 34px;
		li {
			/* replace color name with colored circle */
			overflow: hidden;
			text-indent: 100%;
			white-space: nowrap;
			color: transparent;
			&::before {
				/* this is the colored circle */
				content: '';
				position: absolute;
				@include center;
				height: 10px;
				width: 10px;
				border-radius: 50%;
			}
			&.color-1::before {
				background-color: $color-1;
			}
			&.color-2::before {
				background-color: $color-2;
			}
			&.color-3::before {
				background-color: $color-3;
			}
		}
	}
	.size {
		margin: 0 6px;
		&::after {
			/* arrow icon for the size option element */
			content: '';
			position: absolute;
			right: 7px;
			top: 50%;
			margin-top: -8px;
			display: block;
			width: 16px;
			height: 16px;
			background: url('/app/img/cd-icon-arrow.svg') no-repeat center center;
			pointer-events: none;
		}
		li {
			padding: 0 1em;
		}
	}
	.size,
	.add-to-cart,
	.detail-beer {
		width: calc(50% - 23px);
	}
	.size li,
	.add-to-cart,
	.detail-beer {
		font-size: 0.7rem;
		font-weight: 600;
		text-transform: uppercase;
		line-height: 34px;
	}
	.add-to-cart,
	.detail-beer {
		color: $color-4;
		background-color: $color-5;
		@include font-smoothing;
		&:hover {
			background-color: lighten($color-5, 5%);
		}
		em {
			/* this is the button text message */
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			/* Force Hardware Acceleration */
			@include transform(translateZ(0));
			@include backface-visibility(hidden);
			@include transition(transform 0.3s);
		}
		svg {
			/* this is the check icon */
			position: absolute;
			left: 50%;
			top: 50%;
			width: 100%;
			/* move the icon on the right - outside the button */
			@include transform(translateX(50%) translateY(-50%));
			@include transition(transform 0.3s);
		}
		&.is-added em {
			/* product added to the cart - hide text message on the left with no transition*/
			color: transparent;
			@include transform(translateX(-100%));
			@include transition(transform 0s);
		}
		&.is-added svg {
			/* product added to the cart - move the svg back inside the button */
			@include transform(translateX(-50%) translateY(-50%));
			@include transition(transform 0s);
		}
	}
}


/* --------------------------------

Settings icon - touch devices only

-------------------------------- */

.cd-customization-trigger {
	position: absolute;
	z-index: 2;
	right: 0px;
	bottom: 0px;
	height: 40px;
	width: 40px;
	/* replace text with an icon */
	overflow: hidden;
	text-indent: 100%;
	white-space: nowrap;
	color: transparent;
	background: url(/app/img/cd-icon-settings.svg) no-repeat center center;
	display: none;
	.touch & {
		display: block;
	}
}


/* --------------------------------

Product Info (title + price)

-------------------------------- */

.cd-item-info {
	display: flex;
	flex-direction: row;
	justify-content: space-between;
	padding: 1em .5em 0;
	color: $color-1;
	font-weight: bold;
	@include clearfix;
	b {
		flex-basis: 90%;
	}
	em {
		flex-basis: 10%;
		color: lighten($color-1, 20%);
	}
	a {
		color: $color-1;
		&:hover {
			text-decoration: underline;
		}
	}
}
